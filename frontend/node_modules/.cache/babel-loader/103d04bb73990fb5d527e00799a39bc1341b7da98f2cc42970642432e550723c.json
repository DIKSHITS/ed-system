{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\LMS\\\\frontend\\\\src\\\\views\\\\Courses.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Card, CardHeader, CardBody, CardTitle, CardText, Button } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseTile = _ref => {\n  let {\n    course,\n    subscribed,\n    handleSubscribe,\n    loading\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"title\",\n        children: course.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        children: [\"Price: $\", course.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CardText, {\n        children: [\"Duration: \", course.duration]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }, this), subscribed ? /*#__PURE__*/_jsxDEV(Button, {\n        color: \"danger\",\n        disabled: true,\n        children: \"Subscribed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: () => handleSubscribe(course),\n        disabled: loading,\n        children: \"Subscribe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 3\n  }, this);\n};\n_c = CourseTile;\nconst CourseTable = () => {\n  _s();\n  const [courses, setCourses] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchCourses();\n    fetchSubscriptions();\n  }, []);\n  const fetchCourses = async () => {\n    try {\n      const response = await axios.get('http://localhost:3001/api/courses');\n      setCourses(response.data);\n    } catch (error) {\n      console.error('Error fetching courses:', error);\n      setCourses([]);\n    }\n  };\n  const fetchSubscriptions = async () => {\n    try {\n      const response = await axios.get('http://localhost:3001/api/subscriptions');\n      setSubscriptions(response.data);\n    } catch (error) {\n      console.error('Error fetching subscriptions:', error);\n      setSubscriptions([]);\n    }\n  };\n  const handleSubscribe = async course => {\n    setLoading(true);\n    try {\n      // Make API call to subscribe to the course\n      await axios.post('http://localhost:3001/api/subscribe', {\n        courseId: course._id\n      });\n      // Refetch subscriptions to update the UI\n      await fetchSubscriptions();\n      // Save subscription details to database\n      await saveSubscriptionToDatabase(course.id);\n    } catch (error) {\n      console.error('Error subscribing:', error);\n      setError('Failed to subscribe to the course.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const saveSubscriptionToDatabase = async courseId => {\n    try {\n      // Make API call to save subscription details to your database\n      await axios.post('http://localhost:3001/api/saveSubscription', {\n        courseId\n      });\n      console.log('Subscription details saved to database successfully.');\n    } catch (error) {\n      console.error('Error saving subscription to database:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: courses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(CourseTile, {\n          course: course,\n          subscribed: subscriptions.some(sub => sub.courseId === course._id),\n          handleSubscribe: handleSubscribe,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, course.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseTable, \"b76Z7surkatswM7eIG+q04pqihw=\");\n_c2 = CourseTable;\nexport default CourseTable;\nvar _c, _c2;\n$RefreshReg$(_c, \"CourseTile\");\n$RefreshReg$(_c2, \"CourseTable\");","map":{"version":3,"names":["React","useState","useEffect","axios","Card","CardHeader","CardBody","CardTitle","CardText","Button","jsxDEV","_jsxDEV","CourseTile","_ref","course","subscribed","handleSubscribe","loading","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","price","duration","color","disabled","onClick","_c","CourseTable","_s","courses","setCourses","subscriptions","setSubscriptions","setLoading","error","setError","fetchCourses","fetchSubscriptions","response","get","data","console","post","courseId","_id","saveSubscriptionToDatabase","id","log","map","some","sub","_c2","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/LMS/frontend/src/views/Courses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardTitle,\r\n  CardText,\r\n  Button,\r\n} from 'reactstrap';\r\n\r\nconst CourseTile = ({ course, subscribed, handleSubscribe, loading }) => (\r\n  <Card>\r\n    <CardHeader>\r\n      <h5 className=\"title\">{course.name}</h5>\r\n    </CardHeader>\r\n    <CardBody>\r\n      <CardTitle>Price: ${course.price}</CardTitle>\r\n      <CardText>Duration: {course.duration}</CardText>\r\n      {subscribed ? (\r\n        <Button color=\"danger\" disabled>\r\n          Subscribed\r\n        </Button>\r\n      ) : (\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => handleSubscribe(course)}\r\n          disabled={loading}\r\n        >\r\n          Subscribe\r\n        </Button>\r\n      )}\r\n    </CardBody>\r\n  </Card>\r\n);\r\n\r\nconst CourseTable = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [subscriptions, setSubscriptions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCourses();\r\n    fetchSubscriptions();\r\n  }, []);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3001/api/courses');\r\n      setCourses(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching courses:', error);\r\n      setCourses([]);\r\n    }\r\n  };\r\n\r\n  const fetchSubscriptions = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3001/api/subscriptions');\r\n      setSubscriptions(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching subscriptions:', error);\r\n      setSubscriptions([]);\r\n    }\r\n  };\r\n\r\n  const handleSubscribe = async (course) => {\r\n    setLoading(true);\r\n    try {\r\n      // Make API call to subscribe to the course\r\n      await axios.post('http://localhost:3001/api/subscribe', { courseId: course._id });\r\n      // Refetch subscriptions to update the UI\r\n      await fetchSubscriptions();\r\n      // Save subscription details to database\r\n      await saveSubscriptionToDatabase(course.id);\r\n    } catch (error) {\r\n      console.error('Error subscribing:', error);\r\n      setError('Failed to subscribe to the course.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const saveSubscriptionToDatabase = async (courseId) => {\r\n    try {\r\n      // Make API call to save subscription details to your database\r\n      await axios.post('http://localhost:3001/api/saveSubscription', { courseId });\r\n      console.log('Subscription details saved to database successfully.');\r\n    } catch (error) {\r\n      console.error('Error saving subscription to database:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"row\">\r\n        {courses.map((course) => (\r\n          <div className=\"col-md-4\" key={course.id}>\r\n            <CourseTile\r\n              course={course}\r\n              subscribed={subscriptions.some(sub => sub.courseId === course._id)}\r\n              handleSubscribe={handleSubscribe}\r\n              loading={loading}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}